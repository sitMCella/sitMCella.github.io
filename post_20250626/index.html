<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/x-icon"><meta content="width=device-width,initial-scale=1,viewport-fit=cover" name="viewport"><meta content="#000000" name="theme-color"><meta content="Marco Cella Blog" name="description"><link href="/manifest.json" rel="manifest"><link href="/logo192.png" rel="apple-touch-icon"><title>Python and Cobol Integration</title><style>@import url(https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap);</style><script type="text/javascript">!function(n){if("/"===n.search[1]){var a=n.search.slice(1).split("&").map(function(n){return n.replace(/~and~/g,"&")}).join("?");window.history.replaceState(null,null,n.pathname.slice(0,-1)+a+n.hash)}}(window.location)</script><script defer src="/static/js/main.88814732.js"></script><link href="/static/css/main.6284e917.css" rel="stylesheet"><link href="https://fonts.googleapis.com" rel="preconnect"><meta content="Python and Cobol Integration" data-react-helmet="true" name="description"><meta content="cobol, python" data-react-helmet="true" name="keywords"><meta content="Marco Cella" data-react-helmet="true" name="author"><meta content="Python and Cobol Integration" data-react-helmet="true" property="og:title"><meta content="Python and Cobol Integration" data-react-helmet="true" property="og:description"><meta content="website" data-react-helmet="true" property="og:type"><link href="https://fonts.gstatic.com" rel="preconnect"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="root"><div class="App"><div class="light"><div><nav class="sticky top-0 bg-gray-custom1 dark:bg-slate-custom3 flex justify-center"><div class="w-11/12 sm:w-11/12 md:w-9/12 lg:w-8/12 xl:w-6/12 2xl:w-4/12 mx-0 flex justify-left header"><div class="my-4"><span class="text-5xl font-extrabold text-gray-900 dark:text-white1 m-2">mc //connected</span></div><div class="line-break"></div><div class="w-full min-w-full"><div class="float-left"><a href="/blog" data-discover="true"><button type="button" class="text-gray-900 focus:outline-none border-none hover:bg-gray-100 focus:bg-gray-100 font-medium rounded-full text-sm lg:text-base px-3 py-1.5 me-2 mb-2 dark:border-gray-100 dark:hover:bg-gray-100 dark:hover:border-gray-100 dark:text-gray-100 hover:dark:text-gray-900 dark:bg-slate-custom2 false">Blog</button></a><a href="/profile" data-discover="true"><button type="button" class="text-gray-900 focus:outline-none border-none hover:bg-gray-100 focus:bg-gray-100 font-medium rounded-full text-sm lg:text-base px-3 py-1.5 me-2 mb-2 dark:border-gray-100 dark:hover:bg-gray-100 dark:hover:border-gray-100 dark:text-gray-100 hover:dark:text-gray-900 dark:bg-slate-custom2 false">Profile</button></a></div><div class="flex float-right h-full items-center text-gray-900 dark:text-gray-100"><button type="button"><svg class="size-5 mb-2" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div></div></div></nav></div><div class="flex flex-col items-center content min-h-[calc(100vh-172px)] dark:bg-slate-custom1"><div class="w-11/12 sm:w-11/12 md:w-9/12 lg:w-8/12 xl:w-6/12 2xl:w-4/12 mx-0"><div class="mt-16 mb-4 flex justify-items-start content"><h1 class="font-semibold text-left text-lg lg:text-2xl w-full md:w-full dark:text-gray-custom1">Python and Cobol Integration</h1><div class="line-break"></div><span class="flex items-center"><svg class="h-6 w-6 stroke-orange-400 mr-2 text-gray-custom3 dark:text-gray-400" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" data-slot="icon"><path d="M6.75 2.994v2.25m10.5-2.25v2.25m-14.252 13.5V7.491a2.25 2.25 0 0 1 2.25-2.25h13.5a2.25 2.25 0 0 1 2.25 2.25v11.251m-18 0a2.25 2.25 0 0 0 2.25 2.25h13.5a2.25 2.25 0 0 0 2.25-2.25m-18 0v-7.5a2.25 2.25 0 0 1 2.25-2.25h13.5a2.25 2.25 0 0 1 2.25 2.25v7.5m-6.75-6h2.25m-9 2.25h4.5m.002-2.25h.005v.006H12v-.006Zm-.001 4.5h.006v.006h-.006v-.005Zm-2.25.001h.005v.006H9.75v-.006Zm-2.25 0h.005v.005h-.006v-.005Zm6.75-2.247h.005v.005h-.005v-.005Zm0 2.247h.006v.006h-.006v-.006Zm2.25-2.248h.006V15H16.5v-.005Z" stroke-linecap="round" stroke-linejoin="round"></path></svg><time class="text-gray-custom2 text-left text-sm lg:text-base w-full md:w-full dark:text-gray-custom4">Jun 26, 2025</time></span><div class="line-break"></div><div class="articleBody"><p class="leading-7 mt-4 text-left text-base lg:text-lg prose dark:prose-dark dark:prose-invert w-full">Despite being over 60 years old and often labeled as outdated, COBOL remains widely used in business-critical applications, especially within the banking and financial sectors.</p><p class="leading-7 mt-4 text-left text-base lg:text-lg prose dark:prose-dark dark:prose-invert w-full">One of the main challenges ahead is modernizing the existing infrastructures, either by rewriting the applications using modern programming languages or by reusing the battle-tested, stable production code written in COBOL. In this blog post I will focus on the latter approach, and I will explore the integration between Python and COBOL languages.</p><p class="leading-7 mt-4 text-left text-base lg:text-lg prose dark:prose-dark dark:prose-invert w-full">COBOL has evolved through many different dialects and revisions. Over the years, published standards have focused on enhancing the language and improving its interoperability. Various vendors have introduced extensions and additional features to meet specific platform needs. I chose to experiment with GnuCOBOL [1] because I wanted to create a self-contained application without relying on a mainframe environment or vendor-specific extensions.</p><p class="leading-7 mt-4 text-left text-base lg:text-lg prose dark:prose-dark dark:prose-invert w-full">The project I created is a simple web application for managing bank accounts, focused on processing account balances and transactions.</p><p class="leading-7 mt-4 text-left text-base lg:text-lg prose dark:prose-dark dark:prose-invert w-full">The following is the link to the project:<br><a href="https://github.com/sitMCella/bank-account-cobol" class="underline" rel="noreferrer" target="_blank">sitMCella/bank-account-cobol</a></p><p class="leading-7 mt-4 text-left text-base lg:text-lg prose dark:prose-dark dark:prose-invert w-full">The Python backend application exposes RESTful APIs using Flask and delegates the business logic execution to shared libraries implemented in GnuCOBOL. The GnuCOBOL code is compiled into C-based shared object files (.so), which are accessed by the Python application through the ctypes library [2].</p><p class="leading-7 mt-4 text-left text-base lg:text-lg prose dark:prose-dark dark:prose-invert w-full">The following command is used to compile a GnuCOBOL program to a module (shared library):</p><pre class="mt-4 text-left h-25 w-full language-bash" tabindex="0"><code class="language-bash">cobc <span class="token parameter variable">-m</span> <span class="token parameter variable">-g</span> -fimplicit-init <span class="token parameter variable">-o</span> program.so program.cob</code></pre><p class="leading-7 mt-4 text-left text-base lg:text-lg prose dark:prose-dark dark:prose-invert w-full">The Python code can exchange parameters with a GnuCOBOL library. To enable this, the GnuCOBOL module must define the variables in the <code>LINKAGE SECTION</code> and reference them in the<code>PROCEDURE DIVISION</code> with the <i>USING</i> clause.</p><p class="leading-7 mt-4 text-left text-base lg:text-lg prose dark:prose-dark dark:prose-invert w-full">Arguments can be passed to the GnuCOBOL program using either<code>BY VALUE</code> or <code>BY REFERENCE</code>. In GnuCOBOL, passing a variable by value allocates a copy of the variable's value in memory, meaning changes do not affect the original data. Passing by reference, on the other hand, provides access to the original variable, allowing the program to modify its contents directly.</p><p class="leading-7 mt-4 text-left text-base lg:text-lg prose dark:prose-dark dark:prose-invert w-full">The following is an example of argument definitions in GnuCOBOL:</p><pre class="mt-4 text-left h-68 w-full language-cobol" tabindex="0"><code class="language-cobol"><span class="token keyword">LINKAGE</span> <span class="token keyword">SECTION</span><span class="token punctuation">.</span>
  <span class="token number">77</span> USERACCOUNTIKEY <span class="token keyword">PIC</span> <span class="token class-name">9<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span></span><span class="token punctuation">.</span>
  <span class="token number">01</span> ACCOUNT<span class="token punctuation">.</span>
    <span class="token number">05</span> ACCOUNTIKEY <span class="token keyword">PIC</span> <span class="token class-name">9<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span></span><span class="token punctuation">.</span>
    <span class="token number">05</span> ACCOUNTBALANCETOTAL <span class="token keyword">PIC</span> <span class="token class-name">S9<span class="token punctuation">(</span><span class="token number">29</span><span class="token punctuation">)</span>V99</span> <span class="token keyword">COMP-3</span><span class="token punctuation">.</span>
    <span class="token number">05</span> LASTCREDITTRANSACTION <span class="token keyword">PIC</span> <span class="token class-name">9<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span></span><span class="token punctuation">.</span>
    <span class="token number">05</span> LASTDEBITTRANSACTION <span class="token keyword">PIC</span> <span class="token class-name">9<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span></span><span class="token punctuation">.</span>
  <span class="token number">77</span> RETURNCODE <span class="token keyword">PIC</span> <span class="token class-name">XX</span><span class="token punctuation">.</span>

<span class="token keyword">PROCEDURE</span> <span class="token keyword">DIVISION</span> <span class="token keyword">USING</span>
  <span class="token keyword">BY</span> <span class="token keyword">REFERENCE</span> USERACCOUNTIKEY
  <span class="token keyword">BY</span> <span class="token keyword">REFERENCE</span> ACCOUNT
  <span class="token keyword">BY</span> <span class="token keyword">REFERENCE</span> RETURNCODE<span class="token punctuation">.</span></code></pre><p class="leading-7 mt-4 text-left text-base lg:text-lg prose dark:prose-dark dark:prose-invert w-full">A key challenge in integrating Python with GnuCOBOL is converting values to the appropriate format so that GnuCOBOL correctly reads input values and Python accurately retrieves output values. Let's analyze some examples.</p><p class="leading-7 mt-4 text-left text-base lg:text-lg prose dark:prose-dark dark:prose-invert w-full">A numeric field of type <code>PIC(4)</code> by default is stored as DISPLAY numeric format in GnuCOBOL, and each digit is stored as an ASCII character.</p><pre class="mt-4 text-left h-25 w-full language-cobol" tabindex="0"><code class="language-cobol"><span class="token level number">77</span> USERACCOUNTIKEY <span class="token keyword">PIC</span> <span class="token class-name">9<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span></span><span class="token punctuation">.</span></code></pre><p class="leading-7 mt-4 text-left text-base lg:text-lg prose dark:prose-dark dark:prose-invert w-full">The value can be encoded from Python as follows:</p><pre class="mt-4 text-left h-25 w-full language-python" tabindex="0"><code class="language-python">useraccountikey <span class="token operator">=</span> <span class="token punctuation">(</span>ctypes<span class="token punctuation">.</span>c_char <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">id</span><span class="token punctuation">:</span><span class="token format-spec">04d</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'ascii'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p class="leading-7 mt-4 text-left text-base lg:text-lg prose dark:prose-dark dark:prose-invert w-full">An alphanumeric field of type <code>PIC XX</code> in GnuCOBOL is stored as ASCII characters:</p><pre class="mt-4 text-left h-25 w-full language-cobol" tabindex="0"><code class="language-cobol"><span class="token level number">77</span> RETURNCODE <span class="token keyword">PIC</span> <span class="token class-name">XX</span><span class="token punctuation">.</span></code></pre><p class="leading-7 mt-4 text-left text-base lg:text-lg prose dark:prose-dark dark:prose-invert w-full">The value can be encoded as a string buffer in Python if we are interested in the output value from OpenCOBOL:</p><pre class="mt-4 text-left h-25 w-full language-python" tabindex="0"><code class="language-python">returncode <span class="token operator">=</span> ctypes<span class="token punctuation">.</span>create_string_buffer<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span></code></pre><p class="leading-7 mt-4 text-left text-base lg:text-lg prose dark:prose-dark dark:prose-invert w-full">A more complex data type is the computational type <code>COMP-3</code>or packed-decimal. The GnuCOBOL documentation states that the packed-decimal data is stored as a series of bytes such that each byte contains two 4-bit fields, commonly referred to as nibbles. Each nibble represents a '9' in the PICTURE and each holds a single decimal digit encoded as its binary value, for example the value 7 corresponds to the binary value 0111. The last byte of a packed-decimal data item will always have its left nibble corresponding to the last '9' in the PICTURE and its right nibble reserved as a sign indicator. This sign indicator is always present regardless of whether or not the PICTURE included an 'S' symbol. The sign indicator will have a value of a hexadecimal A through F.</p><p class="leading-7 mt-4 text-left text-base lg:text-lg prose dark:prose-dark dark:prose-invert w-full">The packed-decimal computational type is used to store numeric data efficiently and is especially useful for financial and business applications. Packed-decimal is a good choice for managing currency because it is space-efficient and provides exact decimal representation, avoiding binary rounding issues.</p><p class="leading-7 mt-4 text-left text-base lg:text-lg prose dark:prose-dark dark:prose-invert w-full">Converting a value from Python to packed-decimal in GnuCOBOL is not straightforward, because we need to take into consideration how GnuCOBOL stores the value in memory. The following function encodes a string value in Python to a <code>PIC 9(29)V99 COMP-3</code>value in GnuCOBOL:</p><pre class="mt-4 text-left h-96 w-full language-python" tabindex="0"><code class="language-python"><span class="token keyword">def</span> <span class="token function">str_to_comp3_s9_29_v99</span><span class="token punctuation">(</span>value_str<span class="token punctuation">)</span><span class="token punctuation">:</span>
    value_str <span class="token operator">=</span> value_str<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token keyword">not</span> value_str<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span>isdigit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">"Invalid numeric string for conversion."</span><span class="token punctuation">)</span>

    <span class="token comment"># Determine the sign</span>
    is_negative <span class="token operator">=</span> value_str<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span>
    value_str <span class="token operator">=</span> value_str<span class="token punctuation">.</span>lstrip<span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span>

    <span class="token comment"># Separate integer and decimal parts</span>
    <span class="token keyword">if</span> <span class="token string">'.'</span> <span class="token keyword">in</span> value_str<span class="token punctuation">:</span>
        integer_part<span class="token punctuation">,</span> decimal_part <span class="token operator">=</span> value_str<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span>
        decimal_part <span class="token operator">=</span> decimal_part<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>ljust<span class="token punctuation">(</span>
            <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'0'</span><span class="token punctuation">)</span>  <span class="token comment"># Limit to 2 decimal places</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        integer_part <span class="token operator">=</span> value_str
        decimal_part <span class="token operator">=</span> <span class="token string">'00'</span>

    <span class="token comment"># Pad integer part to 29 digits</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>integer_part<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">29</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">"Integer part exceeds 29 digits for PIC 9(29)V99."</span><span class="token punctuation">)</span>
    integer_part <span class="token operator">=</span> integer_part<span class="token punctuation">.</span>zfill<span class="token punctuation">(</span><span class="token number">29</span><span class="token punctuation">)</span>

    <span class="token comment"># Combine integer and decimal parts</span>
    packed_value <span class="token operator">=</span> integer_part <span class="token operator">+</span> decimal_part

    <span class="token comment"># Convert to packed decimal (COMP-3)</span>
    packed_bytes <span class="token operator">=</span> <span class="token builtin">bytearray</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>packed_value<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        packed_bytes<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"0x</span><span class="token interpolation"><span class="token punctuation">{</span>packed_value<span class="token punctuation">[</span>i<span class="token punctuation">:</span><span class="token format-spec">i+2]</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># Set the last byte with the sign nibble</span>
    last_digit <span class="token operator">=</span> packed_value<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
    sign_nibble <span class="token operator">=</span> <span class="token number">0x0C</span> <span class="token keyword">if</span> <span class="token keyword">not</span> is_negative <span class="token keyword">else</span> <span class="token number">0x0D</span>
    last_byte <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"0x</span><span class="token interpolation"><span class="token punctuation">{</span>last_digit<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">|</span> sign_nibble
    packed_bytes<span class="token punctuation">.</span>append<span class="token punctuation">(</span>last_byte<span class="token punctuation">)</span>

    <span class="token comment"># Adjust to 16 bytes (31 digits -> 16 bytes)</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>packed_bytes<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">16</span><span class="token punctuation">:</span>
        packed_bytes <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">b'\x00'</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">16</span> <span class="token operator">-</span> <span class="token builtin">len</span><span class="token punctuation">(</span>packed_bytes<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> packed_bytes
    <span class="token keyword">elif</span> <span class="token builtin">len</span><span class="token punctuation">(</span>packed_bytes<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">16</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span>
            <span class="token string">"Packed value exceeds the 16-byte size for S9(29)V99."</span><span class="token punctuation">)</span>

    <span class="token comment"># Convert to ctypes.c_ubyte array</span>
    c_ubyte_array <span class="token operator">=</span> <span class="token punctuation">(</span>ctypes<span class="token punctuation">.</span>c_ubyte <span class="token operator">*</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token operator">*</span>packed_bytes<span class="token punctuation">)</span>
    <span class="token keyword">return</span> c_ubyte_array</code></pre><p class="leading-7 mt-4 text-left text-base lg:text-lg prose dark:prose-dark dark:prose-invert w-full">The following function converts a <code>PIC 9(29)V99 COMP-3</code>value in GnuCOBOL to a mpmath value in Python:</p><pre class="mt-4 text-left h-96 w-full language-python" tabindex="0"><code class="language-python"><span class="token keyword">def</span> <span class="token function">comp3_s9_29_v99_to_mpmath</span><span class="token punctuation">(</span>data_bytes<span class="token punctuation">:</span> <span class="token builtin">bytes</span><span class="token punctuation">,</span> decimal_places<span class="token punctuation">:</span> <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token builtin">all</span><span class="token punctuation">(</span>b <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">for</span> b <span class="token keyword">in</span> data_bytes<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> mp<span class="token punctuation">.</span>mpf<span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">)</span>

    nibbles <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> byte <span class="token keyword">in</span> data_bytes<span class="token punctuation">:</span>
        nibbles<span class="token punctuation">.</span>append<span class="token punctuation">(</span>byte <span class="token operator">>></span> <span class="token number">4</span><span class="token punctuation">)</span>
        nibbles<span class="token punctuation">.</span>append<span class="token punctuation">(</span>byte <span class="token operator">&</span> <span class="token number">0x0F</span><span class="token punctuation">)</span>

    sign_nibble <span class="token operator">=</span> nibbles<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span> sign_nibble <span class="token operator">==</span> <span class="token number">0xD</span><span class="token punctuation">:</span>
        sign <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>
    <span class="token keyword">elif</span> sign_nibble <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token number">0xC</span><span class="token punctuation">,</span> <span class="token number">0xF</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        sign <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">"Invalid sign nibble in COMP-3"</span><span class="token punctuation">)</span>

    digits <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span> <span class="token keyword">for</span> d <span class="token keyword">in</span> nibbles<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>digits<span class="token punctuation">)</span> <span class="token operator">&lt;</span> decimal_places<span class="token punctuation">:</span>
        digits <span class="token operator">=</span> digits<span class="token punctuation">.</span>zfill<span class="token punctuation">(</span>decimal_places <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>

    int_part <span class="token operator">=</span> digits<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span>decimal_places<span class="token punctuation">]</span> <span class="token keyword">or</span> <span class="token string">'0'</span>
    dec_part <span class="token operator">=</span> digits<span class="token punctuation">[</span><span class="token operator">-</span>decimal_places<span class="token punctuation">:</span><span class="token punctuation">]</span>
    <span class="token keyword">return</span> sign <span class="token operator">*</span> mp<span class="token punctuation">.</span>mpf<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>int_part<span class="token punctuation">}</span></span><span class="token string">.</span><span class="token interpolation"><span class="token punctuation">{</span>dec_part<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span></code></pre><p class="leading-7 mt-4 text-left text-base lg:text-lg prose dark:prose-dark dark:prose-invert w-full">Learning the COBOL programming language is a valuable exercise for understanding its design choices and how they differ from those of modern programming languages. Integrating Python with GnuCOBOL shared libraries offers an effective way to reuse COBOL code with minimal changes to the original source.</p><p class="leading-7 mt-4 text-left text-base lg:text-lg prose dark:prose-dark dark:prose-invert w-full">Ensuring a stable and reliable solution goes beyond just getting the two languages to talk to each other. You also need to account for key factors like concurrency, file locking, and robust error handling. On top of that, it's crucial to handle data type mismatches, manage transactions properly, and choose the right communication protocols. These considerations are essential to avoid data corruption, race conditions, and hard-to-debug interoperability issues that can arise in mixed-language systems.</p><p class="leading-7 mt-4 text-left text-base lg:text-lg prose dark:prose-dark dark:prose-invert w-full">[1] <a href="https://gnucobol.sourceforge.io" class="underline" rel="noreferrer" target="_blank">gnucobol</a><br>[2] <a href="https://docs.python.org/3/library/ctypes.html" class="underline" rel="noreferrer" target="_blank">ctypes</a></p></div></div><div class="mt-8 flex items-center text-left"><svg class="h-5 w-5 stroke-orange-400 mr-1 text-gray-custom3 dark:text-gray-400" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" data-slot="icon"><path d="M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6 6h.008v.008H6V6Z" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="m-1 px-1.5 py-0.5 border rounded border-gray-custom3 text-gray-custom2 dark:border-gray-400 dark:text-gray-custom4 text-xs lg:text-sm font-medium text-left text-base prose">cobol</span><span class="m-1 px-1.5 py-0.5 border rounded border-gray-custom3 text-gray-custom2 dark:border-gray-400 dark:text-gray-custom4 text-xs lg:text-sm font-medium text-left text-base prose">python</span></div></div><div class="mb-16"></div><div></div></div><div><nav class="sticky top-0 bg-gray-custom1 dark:bg-slate-custom3 flex justify-center"><div class="w-11/12 sm:w-11/12 md:w-9/12 lg:w-8/12 xl:w-6/12 2xl:w-4/12 mx-0 flex justify-left header"><div class="w-full min-w-full"><div class="float-left"><div class="my-4"><span><span class="text-gray-900 dark:text-white1 tracking-wide text-sm lg:text-base">© Marco Cella • all rights reserved</span></span></div></div><div class="flex float-right h-full items-center text-gray-900 dark:text-gray-100"><a href="https://www.linkedin.com/in/marco-cella-48391a5b" class="underline mr-2" rel="noreferrer" target="_blank"><svg class="icon icon-tabler icons-tabler-outline icon-tabler-brand-linkedin" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" height="24" stroke-linecap="round" stroke-linejoin="round" width="24"><path d="M0 0h24v24H0z" fill="none" stroke="none"></path><path d="M8 11v5"></path><path d="M8 8v.01"></path><path d="M12 16v-5"></path><path d="M16 16v-3a2 2 0 1 0 -4 0"></path><path d="M3 7a4 4 0 0 1 4 -4h10a4 4 0 0 1 4 4v10a4 4 0 0 1 -4 4h-10a4 4 0 0 1 -4 -4z"></path></svg></a><a href="https://mastodon.social/@marco_cella" class="underline" rel="noreferrer" target="_blank"><svg class="icon icon-tabler icons-tabler-outline icon-tabler-brand-mastodon" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" height="24" stroke-linecap="round" stroke-linejoin="round" width="24"><path d="M0 0h24v24H0z" fill="none" stroke="none"></path><path d="M18.648 15.254c-1.816 1.763 -6.648 1.626 -6.648 1.626a18.262 18.262 0 0 1 -3.288 -.256c1.127 1.985 4.12 2.81 8.982 2.475c-1.945 2.013 -13.598 5.257 -13.668 -7.636l-.026 -1.154c0 -3.036 .023 -4.115 1.352 -5.633c1.671 -1.91 6.648 -1.666 6.648 -1.666s4.977 -.243 6.648 1.667c1.329 1.518 1.352 2.597 1.352 5.633s-.456 4.074 -1.352 4.944z"></path><path d="M12 11.204v-2.926c0 -1.258 -.895 -2.278 -2 -2.278s-2 1.02 -2 2.278v4.722m4 -4.722c0 -1.258 .895 -2.278 2 -2.278s2 1.02 2 2.278v4.722"></path></svg></a></div></div></div></nav></div></div></div></div></body></html>